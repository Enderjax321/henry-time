statusbars.onZero(StatusBarKind.Health, function (status) {
    game.over(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    statusbar.value += -1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    mySprite2.setPosition(randint(0, 150), randint(0, 120))
    info.changeScoreBy(1)
    statusbar2.value += 10
})
statusbars.onStatusReached(StatusBarKind.Magic, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Fixed, 100, function (status) {
    statusbar.value += 150
    statusbar2.value += -100
})
let projectile: Sprite = null
let statusbar2: StatusBarSprite = null
let statusbar: StatusBarSprite = null
let mySprite2: Sprite = null
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . 5 5 5 . . . . 5 5 5 . . . 
    . . . 5 5 5 . . . . 5 5 5 . . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
    . . 5 f 5 5 f 5 5 f 5 5 f 5 . . 
    . . 5 5 f 5 f 5 5 f 5 f 5 5 . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
    . . 5 5 5 3 3 5 5 3 3 5 5 5 . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
    . . 5 5 5 5 5 f f 5 5 5 5 5 . . 
    . . 5 5 5 5 5 5 5 5 5 5 5 5 . . 
    . . f f f f f f f f f f f f . . 
    . . 5 5 f 5 5 5 5 5 5 f 5 5 . . 
    . . f f f f f f f f f f f f . . 
    . . 5 f 5 f 5 5 5 5 f 5 f 5 . . 
    `, SpriteKind.Player)
scene.setBackgroundImage(img`
    5555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555599555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    5555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111119999999999999999999999999999999
    5555555555555555555555555555999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111119999999999999999999999999999999
    5555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111119999999999999999999999999999999
    5555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111119999999999999999999999999999999
    5555555555555555555555555555555555999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111119999999999999999999999999999999
    5555555555555555555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111199999999999999999999999999999999
    5555555555555555555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999991111111111111111111199999999999999999999999999999999
    5555555555555555555555559955555555555599999999999999999999999999999999999999999999999999999999999999999999991111111111111111111199999999999999999999999999999999
    5555555555555555555555599999555555555599999999999999999999999999999999999999999999999999999999999999999999911111111111111111111999999999999999999999999999999999
    5555555555555555555555999999995555555599999999999999999999999999999999999999999999999999999999999999999991111111111111111111111999999999999999999999999999999999
    5555555555555555555559999999999955555599999999999999999999999999999999999999999999999999999999999999991111111111111111111111119999999999999999999999999999999999
    5555555555555555555555999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111111111111119999999999999999999999999999999999
    9555555555555555555555599999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999999999999999999999999
    9999555555555555555555559999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999999999999999999999999
    9999555559999999555555555999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111999999999999999999999999999999999
    9999555559999999955555555599999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111199999999999999999999999999999999
    9999555559999999995555555559999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111199999999999999999999999999999999
    9999555559999999999555555559999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111119999999999999999999999999999999
    9999555559999999999955555559999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111119999999999999999999999999999999
    9999555559999999999995555559999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111111999999999999999999999999999999
    9999555559999999999999555559999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111111999999999999999999999999999999
    9999555559999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111111199999999999999999999999999999
    9999555559999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111111111111111111111111199999999999999999999999999999
    9999555559999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111111111199999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111199999999911111199999999999999999999999999999
    9999999999999999999999999999999991111199999999999999999999999999999999999999999999999999999999999999111111111199999999999999991111199999999999999999999999999999
    9999999999999999999999999999999991111119999999999999999999999999999999999999999999999999999999999999999111111999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999911111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999111111111111111111111111111111999999999999999999999999999999999911111199999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111999999999999999999999999999999999999991111111199999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111111111111999999999999999999999999999999999999911111111199999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111111111911111111999999999999999999999999999999999999911111111199999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999991111119999999111111999999999999999999999999999999999999111111111199999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999911111999999999999999999999999999999999999111111111999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999991111199999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999991111199999999999999999999111111111999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999991111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999911111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999911111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999911111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999991111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999911111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999991111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111119999999999999999999999999999999999999999999999999991111199999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111119999999999999999999999999999999999999999999999999991111119999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111119999999999999999999999999999999999999999999999999991111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111119999999999999999999999999999999999999999999999999991111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999999999911111111111111111111999999999999999999999999999999999999999999999999991111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999999999111111111111111111111999999999999999999999999999999999999999999999999111111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999911111111111111111111111111999999999999999999999999999999999999999999999911111111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999911111111111111111111111111999999999999999999999999999999999999999999999911111111111119999999999999999999999999999
    9999999999999999999999999999999999999999999999911111111111111111111111111999999999999999999999999999999999999999999999911111111111111999999999999999999999999999
    9999999999999999999999999999999999999999999999911111111111111111111111111999999999999999999999999999999999999999999999911111111111111111199999999999999999999999
    9999999999999999999999999999999999999999999999911111111111119999991111111999999999999999999999999999999999999999999999911111111111111111119999999999999999999999
    9999999999999999999999999999999999999999999999991111111119999999999111111999999999999999999999999999999999999999999999911111111111111111119999999999999999999999
    9999999999999999999999999999999999999999999999991111111999999999999111111999999999999999999999999999999999999999999999911111111111111111111119999999999999999999
    9999999999999999999999999999999999999999999999991111199999999999999911111999999999999999999999999999999999999999999999911111111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111111999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111119999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111111111199999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111199991111111111999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111991111111199999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111199999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111111111111111199999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111111111111199999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111111111199999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111111999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
mySprite2 = sprites.create(img`
    . . . . . . . . . . . 6 6 6 6 6 
    . . . . . . . . . 6 6 7 7 7 7 8 
    . . . . . . 8 8 8 7 7 8 8 6 8 8 
    . . e e e e c 6 6 8 8 . 8 7 8 . 
    . e 8 5 a 8 e c 8 . . . 6 7 8 . 
    e 8 a 8 8 8 8 8 c . . . 6 7 8 . 
    e 8 8 8 8 8 8 8 c . . . 8 6 8 . 
    e 8 e e 8 8 8 8 e e e e c 6 8 . 
    c 8 e e 8 8 8 8 e 2 5 4 2 c 8 . 
    . c 8 e e e 8 e 2 4 2 2 2 2 c . 
    . . c 8 8 8 e e 2 2 2 2 2 2 2 e 
    . . . e c c e c 2 2 2 2 2 2 2 e 
    . . . . . . . c 2 e e 2 2 e 2 c 
    . . . . . . . c e e e e e e 2 c 
    . . . . . . . . c e 2 2 2 2 c . 
    . . . . . . . . . c c c c c . . 
    `, SpriteKind.Food)
controller.moveSprite(mySprite)
statusbar = statusbars.create(20, 4, StatusBarKind.Health)
statusbar2 = statusbars.create(20, 4, StatusBarKind.Magic)
statusbar.attachToSprite(mySprite)
statusbar.setColor(5, 14, 2)
statusbar2.attachToSprite(mySprite)
statusbar.positionDirection(CollisionDirection.Bottom)
statusbar.setLabel("HP")
statusbar2.setLabel("Food")
statusbar2.value = 0
statusbar2.setColor(14, 7)
statusbar.setStatusBarFlag(StatusBarFlag.SmoothTransition, true)
scene.cameraFollowSprite(mySprite)
tiles.setTilemap(tiles.createTilemap(hex`0a0008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010101`, img`
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    . . . . . . . . . . 
    `, [myTiles.transparency16,sprites.castle.tilePath2], TileScale.Sixteen))
mySprite.setFlag(SpriteFlag.StayInScreen, true)
game.onUpdateInterval(500, function () {
    projectile = sprites.createProjectileFromSide(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . d d d d d d d . . . . . . . . 
        d d d d d d d d d . d . . . . . 
        d d d d d d d d d d d . . . . . 
        d d d d d d d d d d d d d . . . 
        d d d d d d d d d d d d d d . . 
        d d d d d d d d d d d d d d . . 
        d d d d d d d d d d d d d d . . 
        d d d d d d d d d d d d d d . . 
        . d d d d d d d d d d d d d . . 
        . . d . d d d d d d d d d d . . 
        . . . d . d d d d d d d d d . . 
        . . . . . . d d d d d d d . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, randint(0, 100), randint(-100, 100))
})
